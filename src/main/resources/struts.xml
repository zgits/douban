<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE struts PUBLIC
        "-//Apache Software Foundation//DTD Struts Configuration 2.3//EN"
        "http://struts.apache.org/dtds/struts-2.3.dtd">
<struts>

    <constant name="struts.devMode" value="false"/>
    <constant name="struts.objectFactory" value="spring" />

    <constant name="struts.multipart.maxSize" value="50000000"></constant>

    <constant name="struts.multipart.saveDir" value="d:/datetemp"/>




    <package name="user" namespace="/" extends="struts-default">

        <!--<interceptors>-->
            <!--<interceptor name="Interceptor" class="com.ssh.action.interceptor.Interceptor"/>-->
        <!--</interceptors>-->

        <action name="manageruser*" class="ManagerUser" method="{1}">

            <result name="findAll">/admin/user.jsp</result>
        </action>

        <action name="trailercomment*" class="TrailerComment" method="{1}">

        </action>

        <action name="trailer*" class="Trailer" method="{1}">

            <result name="success">/trailermovie.jsp</result>
        </action>

        <action name="rtrailerreplycomment*" class="TrailerReplyComment" method="{1}">


        </action>

        <action name="rmoviereplycomment*" class="MovieReplyComment" method="{1}">

        </action>
        
        <action name="movie_*" class="MovieAction" method="{1}">



            <!--&lt;!&ndash; 使用自定义拦截器 &ndash;&gt;-->
            <!--<interceptor-ref name="Interceptor">-->
                <!--&lt;!&ndash; 配置action中某些方法不进行拦截-->
                    <!--name属性值：excludeMethods-->
                    <!--值：action不拦截的方法名称-->
                    <!--<param name="excludeMethods">login</param>-->
                 <!--&ndash;&gt;-->
                <!--<param name="includeMethods">-->
                    <!--addMovie,updateMovie,deleteMovie-->
                <!--</param>-->

            <!--</interceptor-ref>-->

            <!--<result name="login" type="redirect">/login.html</result>-->

            <result name="moviedetail">/moviedetails.jsp</result>

            <interceptor-ref name="defaultStack"></interceptor-ref>
        </action>

        <action name="moviecomment_*" class="MovieComment" method="{1}">

            <!--&lt;!&ndash; 使用自定义拦截器 &ndash;&gt;-->
            <!--<interceptor-ref name="Interceptor">-->
                <!--&lt;!&ndash; 配置action中某些方法不进行拦截-->
                    <!--name属性值：excludeMethods-->
                    <!--值：action不拦截的方法名称-->
                    <!--<param name="excludeMethods">login</param>-->
                 <!--&ndash;&gt;-->

            <!--</interceptor-ref>-->

            <!--<interceptor-ref name="defaultStack"></interceptor-ref>-->

        </action>

        <action name="getMoving" class="MovieAction" method="getMoving">
            <result name="getMoving">/main.jsp</result>
        </action>

        <action name="getAllTrailer" class="Trailer" method="getAllTrailer">
            <result name="success">trailer.jsp</result>
        </action>

        <action name="getMessage" class="getMessage" method="getMessages">
            <result name="success">tips_message.jsp</result>
        </action>
        <action name="userMessage" class="getMessage" method="UserMessage">
            <result name="success">personInfo.jsp</result>
        </action>
        <action name="updateMessage" class="getMessage" method="updateMessage"/>

        <action name="deleteMessage" class="getMessage" method="deleteMessage"/>

        <action name="image_*" class="Image" method="{1}">

        </action>




        <!--文件上传-->
        <action name="upload" class="Trailer" method="saveFile1">
            <!--<interceptor-ref name="defaultStack">-->
            <!--&lt;!&ndash;-->
                <!--修改允许上传文件的大小(默认值是2M),-->
                <!--将调用FileUploadInterceptor中的setMaximumSize(223434555)-->
            <!--&ndash;&gt;-->
            <!--<param name="fileUpload.maximumSize">223434555</param>-->
            <!--&lt;!&ndash; 配置允许上传文件的类型,如果有多个类型用","隔开 &ndash;&gt;-->
            <!--&lt;!&ndash;<param name="fileUpload.allowedTypes">application/vnd.ms-excel,text/plain</param>&ndash;&gt;-->
            <!--&lt;!&ndash;&lt;!&ndash;配置允许上传文件的扩展名,如果有多个用","隔开  &ndash;&gt;&ndash;&gt;-->
            <!--&lt;!&ndash;<param name="fileUpload.allowedExtensions">txt,excel,ppt</param>&ndash;&gt;-->
        <!--</interceptor-ref>-->
            <!-- 限制允许上传的文件的类型 -->
            <!--<interceptor-ref name="defaultStack">-->

                <!--&lt;!&ndash; 限制允许的文件的扩展名【推荐使用】 &ndash;&gt;-->
                <!--<param name="fileUpload.allowedExtensions">txt,jpg,jar</param>-->
                <!--&lt;!&ndash; 限制允许的类型【一般不与上面的同时是使用。如果同时使用，取交集！！】-->
                <!--<param name="fileUpload.allowedTypes">text/plain</param>-->
                 <!--&ndash;&gt;-->

            <!--</interceptor-ref>-->

            <result name="success"></result>

            <!-- 配置错误视图 -->
            <result name="input"></result>

        </action>
        <!--文件上传end-->


        <!--image图片上传-->

        <action name="imageupload" class="Image" method="saveFile">
            <result name="success"></result>

            <!-- 配置错误视图 -->
            <result name="input"></result>
        </action>


        <action name="bgmain" class="background" method="goToBackground">
            <result name="success">/admin/main.jsp</result>
        </action>

    </package>

    <package name="firm-table" extends="json-default"  namespace="/" >
        <action name="getMovieTable" method="getAllMovies" class="MovieAction">
            <result name="success" type="json">
                <param name="root">returndata</param>
            </result>
        </action>
        <action name="getAllUserToTable" class="ManagerUser" method="findAll">
            <result name="success" type="json">
                <param name="root">returndata</param>
            </result>
        </action>
        <action name="getAllTrailerTable" class="Trailer" method="getAllTrailers">
            <result name="success" type="json">
                <param name="root">returndata</param>
            </result>
        </action>

        <action name="getAllLabelTable" class="Label" method="getAllLabels">
            <result name="success" type="json">
                <param name="root">returndata</param>
            </result>
        </action>
        
        
        <action name="getAllMovieName" class="MovieAction" method="getAllMovieName">
            <result name="success" type="json">
                <param name="root">returndata</param>
            </result>
        </action>

        <action name="getAllImageTable" class="Image" method="gerAllImage">
            <result name="success" type="json">
                <param name="root">returndata</param>
            </result>
        </action>

        <action name="getCommentsBypage" class="TrailerComment" method="getComments">
            <result name="success" type="json">
                <param name="root">returndata</param>
            </result>
        </action>

        <action name="getMovieCommentsBypage" class="MovieComment" method="getComments">
            <result name="success" type="json">
                <param name="root">returndata</param>
            </result>
        </action>

        <action name="getLabels" class="Label" method="getLabelsToUpAddMovie">
            <result name="success" type="json">
                <param name="root">returndata</param>
            </result>
        </action>
    </package>

</struts>